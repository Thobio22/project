
<!--!/usr/bin/env python
    Name: Thomas Verouden
    Student number: 10779272

    This file is the html code for the programming project

    source datamap + relevant src code: https://github.com/markmarkoh/datamaps/blob/master/README.md#getting-started
    python -m http.server 8888 &
    http://localhost:8888/index.html
  -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Import D3 V5 -->
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <!-- <script src="code/js/d3.v5.min.js"></script> -->
    <script>
      d3v5 = d3;
      window.d3 = null;
    </script>
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <!-- <script src="code/js/d3.v3.min.js"></script> -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
    <script src="code/js/datamaps.usa.min.js"></script>
    <script>
      d3v3 = d3;
      window.d3 = null;
    </script>

    <!-- Load in Bootstrap css before the actual css file -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="code/css/project.css">

    <!-- Load in javascripts -->
    <script src="code/js/initialise.js"></script>
    <script src="code/js/drawMap.js"></script>
    <script src="code/js/drawPie.js"></script>
    <script src="code/js/drawLine.js"></script>
    <script src="code/js/d3-tip.js"></script>

    <title>Bee loss in America</title>
  </head>
  <body>
    <div class="container">
      <div class="topnav" id="myTopnav">
        <a href="index.html">Home</a>
        <a href="visuals.html" class="active">Visuals</a>
        <a href="links.html">Sources</a>
        <a href="javascript:void(0);" class="icon" onclick="myFunction()">
          <i class="fa fa-bars"></i>
        </a>
      </div>
      <h1>The decline of the Honey bee in the United States</h1>
      <p>Thomas Verouden<br>
      StudentID: 10779272<br>
      These plots are made with d3 (v3 and v5) and datamaps.</p>

      <div class="row">
        <div class="col-7">
          <div id="map_div" style="position: relative; width: 600px; height: 360px;"></div>
        </div>
        <div class="col-4">
          <p>
            The map shows the Bee loss in percentages, with darker reds indicating higher percentages.
            The data of the map is selectable per year with the slider underneath. This slider also
            affects the piechart on the bottom right, which shows the cause for lost colonies in America.
            The linechart on the left shows the bee loss in percentages over the years in red,
            and a blue line showing crop yield (in kg per acre).
          </p>
          <p>
            Once a state on the map is clicked, both the line and piechart will display the data
            corresponding to that state. If the piechart is not visible once a state is clicked,
            it means the selected state has no available data on the causation for colony loss
            in that year. If the crop yield line is not visible once a state is clicked, it means
            that none of the fruits that the crop yield is based on are produced in large enough
            quantaties to warrant data collection and making available for the public.
          </p>
          <p>
            The map and line chart have data from 2010 to 2016, while the pie chart has data from 2015 to 2018.
            Therefore, the map will not change on years later than 2016, and the pie chart will stay on the year 2015
            when the slider is changed to years earlier than 2015.
          </p>
          <p>
            *Other causes: Includes loss by weather, starvation, insufficient forage, queen failure, hive damage or destruction, etc.
        </div>
      </div>


      <div class="row" style="height: 60px;"></div>

      <div class="slidecontainer">
        <input type="range" min="2010" max="2018" value="2010" class="slider" id="year_slider">
      </div>
      <h3>Year: <span id="slid_year"></span></h3>

      <input type="hidden" id="yearvar" name="selected_year" value="2010">
      <input type="hidden" id="statevar" name="selected_state" value="AZ">
      <input type="hidden" id="periodvar" name="selected_period" value="year">

      <div class="row" style="height: 40px;"></div>

      <div class="row">
        <div class="col-sm-6">
          <div id="line_div"></div>
        </div>

        <div class="col-sm-1"></div>

        <div class="col-sm-5">
        <div id="pie_div">

        </div>
      </div>

    </div>
    <button class="reset_button" id="defaultButton">Default data: Whole USA</button>
    </div>

    <!-- Load in all necessary bootstrap links -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </body>
</html>
